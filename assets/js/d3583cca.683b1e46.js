"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1457],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,h=d["".concat(c,".").concat(m)]||d[m]||p[m]||o;return n?r.createElement(h,i(i({ref:t},s),{},{components:n})):r.createElement(h,i({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1617:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return u},assets:function(){return s},toc:function(){return p},default:function(){return m}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],l={slug:"safe-to-run",title:"Secure android apps with Safe to run",author:"Daniel Llewellyn",author_url:"https://github.com/dllewellyn",tags:["security","android","safetorun","kotlin"]},c=void 0,u={permalink:"/safe_to_run/blog/safe-to-run",source:"@site/blog/2021-06-22-safe-to-run.md",title:"Secure android apps with Safe to run",description:"No library or app can guarantee not running on a rooted phone because of the nature of rooted phones, and any tamper detection could be removed or changed in reality \u2014 this app should work with most attackers, and make it hard enough to make it not worth it for many others.",date:"2021-06-22T00:00:00.000Z",formattedDate:"June 22, 2021",tags:[{label:"security",permalink:"/safe_to_run/blog/tags/security"},{label:"android",permalink:"/safe_to_run/blog/tags/android"},{label:"safetorun",permalink:"/safe_to_run/blog/tags/safetorun"},{label:"kotlin",permalink:"/safe_to_run/blog/tags/kotlin"}],readingTime:1.54,truncated:!1,authors:[{name:"Daniel Llewellyn",url:"https://github.com/dllewellyn"}],prevItem:{title:"Emulator detection",permalink:"/safe_to_run/blog/emulator-detection"}},s={authorsImageUrls:[void 0]},p=[{value:"Checks",id:"checks",children:[],level:3},{value:"Sample usage",id:"sample-usage",children:[],level:3}],d={toc:p};function m(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("div",{className:"admonition admonition-danger alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"danger")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"No library or app can guarantee not running on a rooted phone because of the nature of rooted phones, and any tamper detection could be removed or changed in reality \u2014 this app should work with most attackers, and make it hard enough to make it not worth it for many others.\nBackground"))),(0,o.kt)("p",null,"Safe to run is intended to provide a layer of security for Android applications from rooted phones, reverse engineering, binary modification, malicious apps and some security vulnerabilities."),(0,o.kt)("p",null,"In principle, you set the parameters for a safe device, (one where the debugger is not attached, one with a minimum OS version, one not rooted etc) and ask \u2018is it safe to run\u2019."),(0,o.kt)("p",null,"You know best the time and place to ask the question-maybe you do it on app launch and throw an exception, maybe you ask when some tries to make a payment to someone else and reject the payment or maybe you do it before retrieving some data from the backend."),(0,o.kt)("h3",{id:"checks"},"Checks"),(0,o.kt)("p",null,"We have the following checks that are configurable in safe to run"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Signature checks \u2014 check the signature of the binary (set multiple for multiple certs)"),(0,o.kt)("li",{parentName:"ul"},"Debug check \u2014 check if the debugger is attached or if the app is debuggable"),(0,o.kt)("li",{parentName:"ul"},"Device check \u2014 blacklist a combination of OS version and device manufacturer"),(0,o.kt)("li",{parentName:"ul"},"Root check \u2014 check for signs which point to the device being rooted"),(0,o.kt)("li",{parentName:"ul"},"Other packages check \u2014 check for the presence of other packages, e.g. You might not want to run if you know a specific app is running because it\u2019s known malware that might attack your app"),(0,o.kt)("li",{parentName:"ul"},"Install origin check \u2014 check for the installing package of your app, this can help to make reverse engineering harder")),(0,o.kt)("h3",{id:"sample-usage"},"Sample usage"),(0,o.kt)("p",null,"Every time you want to run a check execute:"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"SafeToRun.safeToRun()")))}m.isMDXComponent=!0}}]);